// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("PRISMA_URL") // uses connection pooling
  //url       = env("POSTGRES_PRISMA_URL") // uses connection pooling
  directUrl = env("POSTGRES_URL_NON_POOLING") // uses a direct connection
}

model User {
  id       Int      @id @default(autoincrement())
  username String   @unique
  email    String   @unique
  name     String?
  Recipe   Recipe[]

  createdAt DateTime @default(now())
}

model Recipe {
  id          Int      @id @default(autoincrement())
  name        String
  slug        String
  description String
  authorId    Int
  author      User     @relation(fields: [authorId], references: [id])
  updatedAt   DateTime @default(now())
  createdAt   DateTime @default(now())
}

model Hop {
  id                Int      @id @default(autoincrement())
  name              String
  slug              String
  description       String?
  country           String?
  usage             String?
  alpha             Float?
  alphaLow          Float?
  alphaHigh         Float?
  beta              Float?
  betaLow           Float?
  betaHigh          Float?
  caryophyllene     Float?
  caryophylleneLow  Float?
  caryophylleneHigh Float?
  cohumulone        Float?
  cohumuloneLow     Float?
  cohumuloneHigh    Float?
  farnesene         Float?
  farneseneLow      Float?
  farneseneHigh     Float?
  humulene          Float?
  humuleneLow       Float?
  humuleneHigh      Float?
  myrcene           Float?
  myrceneLow        Float?
  myrceneHigh       Float?
  totalOil          Float?
  totalOilLow       Float?
  totalOilHigh      Float?
  purpose           String?
  flavor            String?
  notes             String?
  styles            String[]
}
